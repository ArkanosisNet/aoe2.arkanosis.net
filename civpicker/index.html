<!DOCTYPE html>
<html lang="en">
  <head>
    <title>AoE2 Civpicker</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rev="made" href="mailto:jroquet@arkanosis.net" />
    <style>
      * {
        color: #212529;
      }
      html {
        height: 100%;
      }
      body {
        min-height: 100%;
        margin: 0;
        padding: 0;
      }
      a {
        color: #24478f;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      header, footer {
        display: flex;
        flex-wrap: wrap;
        width: 100%;
        background-color: #eaecf0;
      }
      footer {
        bottom:0;
      }
      form {
        padding: 15px;
      }
      .warning {
        padding: 15px;
        background-color: #fcf8e3;
        border-color: #faebcc;
        border-radius: 4px;
      }
      .warning, .warning strong {
        color: #8a6d3b;
      }
      .version {
          margin-bottom: 0;
          bottom: 0;
          right: 0;
          width: 100%;
          text-align:right;
      }
      table {
          text-align: left;
          width: 100%;
      }
      th, td {
          border-bottom: 1px solid #ddd;
      }
      tr:hover {
          background-color: #f5f5f5;
      }
    </style>
  </head>
  <body>
    <header>
      <!--<img src="logo.svg" alt="civpicker logo" width="120" height="120" style="padding: 10px;">-->
      <div style="height: 120px; margin-left: 10px; padding: 10px;"><h1 style="font-size: 50px;">AoE2 Civpicker</h1></div>
    </header>
    <main style="padding: 10px">
      <section>
        <h2>What do you want to play?</h2>
        <form action="/query">
          <dl>
            <dt>Barracks</dt><dd>
              <input type="checkbox" id="infantry"><label for="infantry">infantry</label>
            </dd>
            <dt>Archery range</dt><dd>
              <input type="checkbox" id="archers"><label for="archers">archers</label>
              <input type="checkbox" id="CAs"><label for="CAs"><abbr title="cavalry and camel archers">CAs</abbr></label>
              <input type="checkbox" id="gunpowder"><label for="gunpowder">gunpowder</label>
            </dd>
            <dt>Stable</dt><dd>
              <input type="checkbox" id="cavalry"><label for="cavalry">cavalry</label>
              <input type="checkbox" id="camels"><label for="camels">camels</label>
              <input type="checkbox" id="elephants"><label for="elephants">elephants</label>
            </dd>
            <dt>Others</dt><dd>
              <input type="checkbox" id="siege"><label for="siege">siege</label>
              <input type="checkbox" id="monks"><label for="monks">monks</label>
              <input type="checkbox" id="ships"><label for="ships">ships</label>
              <input type="checkbox" id="defense"><label for="defense">defense</label>
            </dd>
          </dl>
        </form>
      </section>
      <section>
        <h2>Civs that you might like</h2>
        <table id="civs">
          <tr id="header">
            <th>Civ</th>
            <th>Strengths</th>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Aztecs">Aztecs</a></td>
            <td>infantry, monks</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Berbers">Berbers</a></td>
            <td>cavalry, camels, ships</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Bohemians">Bohemians</a></td>
            <td>gunpowder, monks</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Britons">Britons</a></td>
            <td>archers</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Bulgarians">Bulgarians</a></td>
            <td>infantry, cavalry, siege</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Burgundians">Burgundians</a></td>
            <td>cavalry, gunpowder</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Burmese">Burmese</a></td>
            <td>infantry, cavalry, monks, elephants</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Byzantines">Byzantines</a></td>
            <td>defense, camels, ships</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Celts">Celts</a></td>
            <td>infantry, siege</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Chinese">Chinese</a></td>
            <td>archers, cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Cumans">Cumans</a></td>
            <td>cavalry, siege</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Ethiopians">Ethiopians</a></td>
            <td>archers, siege</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Franks">Franks</a></td>
            <td>cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Goths">Goths</a></td>
            <td>infantry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Huns">Huns</a></td>
            <td>CAs, cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Incas">Incas</a></td>
            <td>infantry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Indians">Indians</a></td>
            <td>camels, gunpowder</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Italians">Italians</a></td>
            <td>archers, gunpowder, ships</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Japanese">Japanese</a></td>
            <td>infantry, archers</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Khmer">Khmer</a></td>
            <td>siege, elephants, cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Koreans">Koreans</a></td>
            <td>archers, ships, defense</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Lithuanians">Lithuanians</a></td>
            <td>cavalry, monks</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Magyars">Magyars</a></td>
            <td>cavalry, CAs</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Malay">Malay</a></td>
            <td>infantry, elephants, ships</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Malians">Malians</a></td>
            <td>infantry, cavalry, camels</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Mayans">Mayans</a></td>
            <td>archers, infantry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Mongols">Mongols</a></td>
            <td>CAs, siege, cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Persians">Persians</a></td>
            <td>cavalry, archers, elephants</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Poles">Poles</a></td>
            <td>cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Portuguese">Portuguese</a></td>
            <td>gunpowder, ships, archers, cavalry, siege</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Saracens">Saracens</a></td>
            <td>archers, camels, monks, ships</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Sicilians">Sicilians</a></td>
            <td>cavalry, infantry, archers</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Slavs">Slavs</a></td>
            <td>infantry, siege, monks</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Spanish">Spanish</a></td>
            <td>gunpowder, monks, cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Tatars">Tatars</a></td>
            <td>CAs, archers</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Teutons">Teutons</a></td>
            <td>cavalry, infantry, siege, monks, defense</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Turks">Turks</a></td>
            <td>gunpowder, CAs, cavalry</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Vietnamese">Vietnamese</a></td>
            <td>archers, elephants</td>
          </tr>
          <tr>
            <td><a href="https://aoe2techtree.net/#Vikings">Vikings</a></td>
            <td>infantry, archers, ships</td>
          </tr>
        </table>
	<p id="noresult" class="warning" style="display: none;">
          No civ is good with all that stuff! Try to <a href="https://krakenmeister.com/civbuilder">create your own</a>, maybe?
	</p>
      </section>
      <aside>
        <h2>Other tools to help you</h2>
        <ul>
          <li><a href="https://aoe2-de-tools.herokuapp.com/civ-ranking/">Simplified tech tree</a></li>
          <li><a href="https://aoe2techtree.net/">Detailed tech tree</a></li>
          <li><a href="https://play.google.com/store/apps/details?id=com.aoedb">Pocket tech tree (for Android)</a></li>
          <li><a href="https://krakenmeister.com/civbuilder">Civ builder (if none is good enough for you)</a></li>
          <li><a href="https://github.com/Arkanosis/awesome-aoe2">More tools</a></li>
        </ul>
      </aside>
      <p class="version">
        Civpicker v0.2.0 (DotD)
      </p>
    </main>
    <footer>
      <p style="width: 100%; text-align: center;">
        Made by <a href="https://arkanosis.net">Arkanosis</a>.
        Code available <a href="https://github.com/ArkanosisNet/aoe2.arkanosis.net">on GitHub</a> under the <a href="https://raw.githubusercontent.com/ArkanosisNet/aoe2.arkanosis.net/master/LICENSE">the ISC license</a>.
      </p>
    </footer>
    <script type="text/javascript">
      function refresh() {
          var atLeastOne = false;
          document.querySelectorAll('tr:not(#header)').forEach(function(row) {
              row.style.display = 'table-row';
              var keepRow = true;
              document.querySelectorAll('input[type=checkbox]:checked').forEach(function(checkbox) {
                  if (!row.querySelectorAll('td')[1].textContent.includes(checkbox.id)) {
                      keepRow = false;
                  }
              });
              if (keepRow) {
                  atLeastOne = true;
              } else {
                  row.style.display = 'none';
              }
          });
          document.querySelectorAll('#civs').forEach(function(list) {
              if (atLeastOne) {
                  list.style.display = 'block';
              } else {
                  list.style.display = 'none';
              }
          });
          document.querySelectorAll('#noresult').forEach(function(paragraph) {
              if (atLeastOne) {
                  paragraph.style.display = 'none';
              } else {
                  paragraph.style.display = 'block';
              }
          });
      }
      document.querySelectorAll('input[type=checkbox]').forEach(function(checkbox) {
          checkbox.addEventListener('change', refresh);
      });
      refresh();
    </script>
  </body>
</html>
